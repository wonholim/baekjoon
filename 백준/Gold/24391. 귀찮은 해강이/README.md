# [Gold V] 귀찮은 해강이 - 24391 

[문제 링크](https://www.acmicpc.net/problem/24391) 

### 성능 요약

메모리: 52240 KB, 시간: 456 ms

### 분류

자료 구조(data_structures), 분리 집합(disjoint_set), 그래프 이론(graphs), 그래프 탐색(graph_traversal)

### 문제 설명

<p>해강이는 앙중대학교에 다닌다. 해강이는 이번 학기에 강의코드 1번부터 <em>N</em>번까지 <em>N</em>개의 강의를 듣고 있다.</p>

<p>모든 강의는 강의코드와 동일한 번호의 건물에서 진행된다. 예를 들어, 강의코드가 1인 강의는 1번 건물에서 진행되고, 강의코드가 <em>N</em>-1인 강의는 <em>N</em>-1번 건물에서 진행된다.</p>

<p>해강이는 밖에 나오는 것을 싫어해서, 강의 시간표 순서대로 모든 강의를 들으면서 한 건물에서 밖으로 나와서 다른 건물로 이동하는 횟수를 최소화하고 싶다. 앙중대학교에는 다행히도 서로 연결되어 있는 건물들이 있어, 이 건물끼리는 밖으로 나오지 않고 이동할 수 있다.</p>

<p>해강이의 강의 시간표가 주어질 때, 밖에 나오는 것을 싫어하는 해강이를 위해 최소 몇 번만 밖에 나오면 되는지 구해보자. 맨 처음 강의를 들으러 이동하는 횟수는 세지 않는다.</p>

### 입력 

 <p>첫째 줄에 강의의 개수 <em>N</em>(1 ≤ <em>N</em> ≤ 10<sup>5</sup>)과 연결되어 있는 건물의 쌍의 개수 <em>M</em>(0 ≤ <em>M</em> ≤ 10<sup>5</sup>)이 공백으로 구분되어 주어진다.</p>

<p>두 번째 줄부터는 <em>M</em>줄에 걸쳐 <em>i</em>와 <em>j</em>(1 ≤ <em>i</em>, <em>j</em> ≤ <em>N</em>)가 주어진다. 이는 <em>i</em>번 건물과 <em>j</em>번 건물이 연결되어 있다는 의미이다. 건물이 자기 자신과 연결되거나, 이미 연결된 건물의 쌍이 다시 주어지는 경우는 없다.</p>

<p>마지막 줄에는 <em>N</em>개의 강의코드 <em>A<sub>i</sub></em>(1 ≤ <em>A<sub>i</sub></em> ≤ <em>N</em>)로 이루어진 강의 시간표가 공백으로 구분되어 주어진다.</p>

### 출력 

 <p>해강이가 밖에 나와야 하는 최소 횟수를 출력한다.</p>

